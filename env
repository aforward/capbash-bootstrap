#!/bin/bash

if [[ -e ./submodules/bootstrap/logging ]]; then
  source ./submodules/bootstrap/logging
else
  source /usr/local/bin/logging
fi

if [[ `uname` == "Darwin" ]]; then
  export OS=mac
elif [[ "`lsb_release -d | grep Ubuntu`" != "" ]]; then
  export OS=ubuntu
elif [[ "`lsb_release -d | grep \"Red Hat\"`" != "" ]]; then
  export OS=redhat
elif [[ "`lsb_release -d | grep \"CentOS\"`" != "" ]]; then
  export OS=centos
else
  export OS=unknown
fi

debug "Exporting \$OS=$OS"

OS_ENV=./assets/env/$OS
if [[ -e $OS_ENV ]]; then
  debug "Including OS specific env ($OS_ENV)"
  . $OS_ENV
fi
